{"pageContext":{"html":"<h1 id=\"angularjs-integration\"><a href=\"#angularjs-integration\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AngularJS Integration</h1>\n<p>Warning: For new project, you should consider using <a href=\"/docs/client-generator/index/\">the API Platform's Progressive Web App generator</a>\n(that supports React and Vue.js) instead of this Angular v1 integration.</p>\n<h2 id=\"restangular\"><a href=\"#restangular\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Restangular</h2>\n<p>API Platform works fine with <a href=\"http://angularjs.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AngularJS v1</a>. The popular <a href=\"https://github.com/mgonto/restangular\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Restangular</a>\nREST client library for Angular can easily be configured to handle the API format.</p>\n<p>Here is a working Restangular config:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> angular\n    <span class=\"token punctuation\">.</span><span class=\"token function\">module</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myAngularjsApp'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'RestangularProvider'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>RestangularProvider<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// The URL of the API endpoint</span>\n        RestangularProvider<span class=\"token punctuation\">.</span><span class=\"token function\">setBaseUrl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:8000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// JSON-LD @id support</span>\n        RestangularProvider<span class=\"token punctuation\">.</span><span class=\"token function\">setRestangularFields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            id<span class=\"token punctuation\">:</span> <span class=\"token string\">'@id'</span><span class=\"token punctuation\">,</span>\n            selfLink<span class=\"token punctuation\">:</span> <span class=\"token string\">'@id'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        RestangularProvider<span class=\"token punctuation\">.</span><span class=\"token function\">setSelfLinkAbsoluteUrl</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Hydra collections support</span>\n        RestangularProvider<span class=\"token punctuation\">.</span><span class=\"token function\">addResponseInterceptor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> operation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Remove trailing slash to make Restangular working</span>\n            <span class=\"token keyword\">function</span> <span class=\"token function\">populateHref</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span><span class=\"token string\">'@id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    data<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'@id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token comment\">// Populate href property for the collection</span>\n            <span class=\"token function\">populateHref</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'getList'</span> <span class=\"token operator\">===</span> operation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> collectionResponse <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'hydra:member'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                collectionResponse<span class=\"token punctuation\">.</span>metadata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token comment\">// Put metadata in a property of the collection</span>\n                angular<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'hydra:member'</span> <span class=\"token operator\">!==</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        collectionResponse<span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token comment\">// Populate href property for all elements of the collection</span>\n                angular<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>collectionResponse<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">populateHref</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">return</span> collectionResponse<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"ng-admin\"><a href=\"#ng-admin\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ng-admin</h2>\n<p>If you want to use <a href=\"https://github.com/marmelab/ng-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ng-admin</a>, set the <a href=\"#restangular\">Restangular</a> config,\nthen create your entities like in the following example :</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> nga <span class=\"token operator\">=</span> NgAdminConfigurationProvider<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> admin <span class=\"token operator\">=</span> nga\n    <span class=\"token punctuation\">.</span><span class=\"token function\">application</span><span class=\"token punctuation\">(</span><span class=\"token string\">'My First Admin'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">baseApiUrl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:8000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> article <span class=\"token operator\">=</span> nga<span class=\"token punctuation\">.</span><span class=\"token function\">entity</span><span class=\"token punctuation\">(</span><span class=\"token string\">'articles'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\narticle<span class=\"token punctuation\">.</span><span class=\"token function\">identifier</span><span class=\"token punctuation\">(</span>nga<span class=\"token punctuation\">.</span><span class=\"token function\">field</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\narticle<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>entityName<span class=\"token punctuation\">,</span> viewType<span class=\"token punctuation\">,</span> identifierValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'/'</span> <span class=\"token operator\">+</span> entityName<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>viewType <span class=\"token operator\">===</span> <span class=\"token string\">'ListView'</span> <span class=\"token operator\">||</span> viewType <span class=\"token operator\">===</span> <span class=\"token string\">'CreateView'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> url<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> identifierValue <span class=\"token operator\">?</span> <span class=\"token function\">decodeURIComponent</span><span class=\"token punctuation\">(</span>identifierValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\narticle<span class=\"token punctuation\">.</span><span class=\"token function\">listView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    nga<span class=\"token punctuation\">.</span><span class=\"token function\">field</span><span class=\"token punctuation\">(</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    nga<span class=\"token punctuation\">.</span><span class=\"token function\">field</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nadmin<span class=\"token punctuation\">.</span><span class=\"token function\">addEntity</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnga<span class=\"token punctuation\">.</span><span class=\"token function\">configure</span><span class=\"token punctuation\">(</span>admin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You can look at what we have done as another example <a href=\"https://github.com/api-platform/admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">api-platform/admin</a>.</p>","editPath":"core/angularjs-integration.md","title":"AngularJS Integration","previous":{"slug":"/docs/core/jwt/","title":"JWT Authentication"},"next":{"slug":"/docs/core/fosuser-bundle/","title":"FOSUserBundle Integration"}}}